<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Tables / Data - NiceAdmin Bootstrap Template</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/styles.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/style.css">

  <style>
    /* Style for form container */
    #addBookForm {
      max-width: 400px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f9f9f9;
      border-radius: 10px;
      box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.1);
    }
  
    /* Style for form labels */
    label {
      display: block;
      font-weight: bold;
      margin-bottom: 10px;
    }
  
    /* Style for form input fields */
    input[type="text"],
    input[type="number"] {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 16px;
    }
  
    /* Style for submit button */
    button {
      background-color: #4CAF50; /* Green color */
  color: white;
  padding: 12px 20px;
  border: none;
  border-radius: 5px;
  font-size: 18px;
  cursor: pointer;
  transition: background-color 0.3s ease;
    }

    a {
  color: inherit; /* Use the color from the parent element */
  text-decoration: none; /* Remove underline */
}
  
    /* Hover effect for submit button */
    button:hover {
      background-color: #45a049;
    }
  
    /* Style for response message */
    #responseMessage {
      margin-top: 20px;
      font-size: 18px;
    }
  </style>
  


</head>

<body>
  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top d-flex align-items-center">
    <div class="container d-flex align-items-center justify-content-between">

      <div class="logo">
<a href="index.html"><img src="assets/img/Logo/ReadON Transparent nav.png" alt="" class="img-fluid"></a>
      </div>

      <nav id="navbar" class="navbar">
        <ul>

<li><a href="/admin">Home</a></li>
          <li><a class="getstarted" href="/">Log Out</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <main id="main" class="main">
<button><a href="/addbook">Add Book</a></button>
    
    <!-- Display area for the response after adding a new book -->
    <div id="responseMessage"></div>
    
<br><br><br>
    <div class="pagetitle">
      <h1>Data Tables</h1>
    </div><!-- End Page Title -->

    <section class="section">
        <!-- Add a search bar -->
  <div class="row mb-3">
    <div class="col-lg-6">
      <input type="text" id="searchInput" class="form-control" placeholder="Search...">
    </div>
  </div>

      <div class="row">
        <div class="col-lg-12">
          <div class="card">
            <div class="card-body">
              <!-- Table with stripped rows -->
              <table class="table datatable">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Title</th>
                    <th scope="col">Author</th>
                    <th scope="col">Genre</th>
                    <th scope="col">Price</th>
                    <th scope="col">Availability</th>
                  </tr>
                </thead>
                <tbody id="bookTableBody">
                  <!-- Book details will be dynamically populated here -->
                </tbody>
              </table>
              <!-- End Table with stripped rows -->
            </div>
          </div>
        </div>
      </div>
    </section>

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-6 col-md-6 footer-info">
            <img src="assets/img/Logo/ReadON Transparent.png" alt="" style="width: 150px;">
            <p>ReadON is a bookstore that offers a wide variety of books at competitive prices with fast and reliable shipping and excellent customer service.We hope you will give us the opportunity to serve you. Thank you for choosing ReadON!</p>
          </div>




          <div class="col-lg-6 col-md-6 footer-contact">
            <h4>Contact Us</h4>
            <p>NH 66, Srinivasnagar<br>
              Surathkal, Mangalore<br>
              Karnataka 575025<br>
              <strong>Phone:</strong>  +91 9035448322<br>
              <strong>Email:</strong>  ridhishahede29@gmail.com<br>
            </p>

            <div class="social-links">
              <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
              <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
              <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
              <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a>
            </div>

          </div>

          

        </div>
      </div>
    </div>

    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>ReadON</span></strong>. All Rights Reserved
      </div>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/chart.js/chart.umd.js"></script>
  <script src="assets/vendor/echarts/echarts.min.js"></script>
  <script src="assets/vendor/quill/quill.min.js"></script>
  <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
  <script src="assets/vendor/tinymce/tinymce.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

<!-- Inside tables-data.html -->
<script>
  // Fetch book data from the server and populate the table rows
  async function fetchBooks() {
    try {
      const response = await fetch('/api/books'); // Use the appropriate endpoint to fetch books
      const books = await response.json();
      const bookTableBody = document.getElementById('bookTableBody');
      bookTableBody.innerHTML = ''; // Clear existing table rows

      books.forEach((book, index) => {
        const row = `
          <tr>
            <th scope="row">${index + 1}</th>
            <td>${book.title}</td>
            <td>${book.author}</td>
            <td>${book.genre}</td>
            <td>${book.price}</td>
            <td>${book.availability}</td>
          </tr>
        `;
        bookTableBody.innerHTML += row;
      });
    } catch (error) {
      console.error(error);
    }
  }

  // Call fetchBooks() to populate the table when the page loads
  window.onload = fetchBooks;

   // Add event listener to the search input for filtering
   document.getElementById('searchInput').addEventListener('input', function () {
    const searchValue = this.value.toLowerCase();
    const bookRows = document.querySelectorAll('#bookTableBody tr');

    bookRows.forEach(row => {
      const title = row.querySelector('td:nth-child(2)').textContent.toLowerCase();
      const author = row.querySelector('td:nth-child(3)').textContent.toLowerCase();
      const genre = row.querySelector('td:nth-child(4)').textContent.toLowerCase();

      // Check if any column contains the search value
      if (title.includes(searchValue) || author.includes(searchValue) || genre.includes(searchValue)) {
        row.style.display = '';
      } else {
        row.style.display = 'none';
      }
    });
  });
</script>


</body>

</html>